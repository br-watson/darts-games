(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4067:(e,s,t)=>{Promise.resolve().then(t.bind(t,4981))},4981:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>V});var a=t(4884),l=t(4843);let r=e=>{if(!e.throws.length)return{average:0,highest:0};let s=e.throws.reduce((e,s)=>e+s,0)/e.throws.length,t=Math.max(...e.throws);return{average:s.toFixed(1),highest:t}},n=(e,s)=>{if(!e.throws.length)return{average:0,highest:0,lowest:0,dartsThrown:0,pointsPerDart:"0"};let t=e.throws,a=t.reduce((e,s)=>e+s,0)/t.length,l=Math.max(...t),r=Math.min(...t),n=(t.length-1)*3;0===e.score&&e.checkoutDart?n+=e.checkoutDart:n+=3;let i=(s-e.score)/n;return{average:a.toFixed(1),highest:l,lowest:r,dartsThrown:n,pointsPerDart:i.toFixed(2)}},i=(0,l.createContext)(void 0),d=()=>{let e=(0,l.useContext)(i);if(!e)throw Error("useX01GameContext must be used within an X01GameProvider");return e},c=e=>{let{children:s}=e,[t,r]=(0,l.useState)(!1),[n,d]=(0,l.useState)(501),[c,o]=(0,l.useState)(0),[h,m]=(0,l.useState)(""),[x,g]=(0,l.useState)(""),[u,f]=(0,l.useState)(null),[v,j]=(0,l.useState)([]),[b,p]=(0,l.useState)([]),[N,D]=(0,l.useState)(!1),[T,w]=(0,l.useState)(!1),[y,k]=(0,l.useState)({show:!1,message:""}),[P,C]=(0,l.useState)(null),[S,A]=(0,l.useState)(!1),I=(0,l.useCallback)(()=>{localStorage.clear(),window.location.reload()},[]),W=function(){let e=new Set;for(let t=0;t<=180;t++){var s;(s=t)>180||179===s||178===s||176===s||175===s||173===s||172===s||169===s||e.add(t)}return e}(),L=(0,l.useCallback)(e=>{k({show:!0,message:e}),setTimeout(()=>{k({show:!1,message:""})},3e3)},[]),E=(0,l.useCallback)(e=>{let s=(null==e?void 0:e.trim())||h.trim();if(s&&v.length<9&&!t){let e=[...v,{name:s,score:n,throws:[]}];j(e),localStorage.setItem("x01Players",JSON.stringify(e)),m("")}},[h,v,t,n]),_=(0,l.useCallback)(e=>{if(!t){let s=v.filter((s,t)=>t!==e);j(s),localStorage.setItem("x01Players",JSON.stringify(s))}},[t,v]),B=(0,l.useCallback)(()=>{v.length>=1&&(r(!0),p([]))},[v.length]),F=(0,l.useCallback)(()=>{let e=v.map(e=>({...e,score:n,throws:[]}));r(!1),j(e),localStorage.setItem("x01Players",JSON.stringify(e)),o(Math.floor(Math.random()*v.length)),f(null),g(""),p([])},[v,n]),z=(0,l.useCallback)(e=>{let s="number"==typeof e?e:parseInt(x);if(!W.has(s))return;let t=[...v],a=t[c],l=a.score-s;if(l<0||1===l){g("");return}p([...b,{players:JSON.parse(JSON.stringify(v)),currentPlayerIndex:c}]),a.throws.push(s),a.score=l,26===s&&L("".concat(a.name," hit a perfect 26!")),0===l?C({show:!0,playerIndex:c,score:a.score+s}):o((c+1)%v.length),j(t),g("")},[x,v,c,W,b,L]),G=(0,l.useCallback)(()=>{if(b.length>0){let e=b[b.length-1];j(e.players),o(e.currentPlayerIndex),p(b.slice(0,-1)),f(null)}},[b]);return(0,l.useEffect)(()=>{let e=localStorage.getItem("x01Players");e&&j(JSON.parse(e))},[]),(0,l.useEffect)(()=>{let e=e=>{N||!t||u||("Enter"===e.key?z(parseInt(x)):"Backspace"===e.key&&g(e=>e.slice(0,-1)))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[x,t,u,N,z]),(0,a.jsx)(i.Provider,{value:{gameStarted:t,startingScore:n,currentPlayerIndex:c,newPlayerName:h,currentThrow:x,winner:u,players:v,history:b,isProcessingInput:N,showResetConfirm:T,celebration:y,checkoutDartPrompt:P,validThreeDartScores:W,showClearDataConfirm:S,setGameStarted:r,setStartingScore:d,setNewPlayerName:m,setCurrentThrow:g,setShowResetConfirm:w,setWinner:f,setPlayers:j,setIsProcessingInput:D,setCheckoutDartPrompt:C,setShowClearDataConfirm:A,triggerCelebration:L,addPlayer:E,removePlayer:_,startGame:B,resetGame:F,handleThrow:z,handleUndo:G,clearGameData:I},children:s})};var o=t(703),h=t(7158),m=t(8273),x=t(726);function g(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,x.QP)((0,m.$)(s))}let u=(0,h.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=l.forwardRef((e,s)=>{let{className:t,variant:l,size:r,asChild:n=!1,...i}=e,d=n?o.DX:"button";return(0,a.jsx)(d,{className:g(u({variant:l,size:r,className:t})),ref:s,...i})});f.displayName="Button";var v=t(9529);let j={170:"T20 T20 Bull",167:"T20 T19 Bull",164:"T20 T18 Bull",161:"T20 T17 Bull",160:"T20 T20 D20",158:"T20 T20 D19",157:"T20 T19 D20",156:"T20 T20 D18",155:"T20 T19 D19",154:"T20 T18 D20",153:"T20 T19 D18",152:"T20 T20 D16",151:"T20 T17 D20",150:"Bull Bull Bull",149:"T20 T19 D16",148:"T20 T20 D14",147:"T20 T17 D18",146:"T20 T18 D16",145:"T20 T19 D14",144:"T20 T20 D12",143:"T20 T17 D16",142:"T20 T14 D20",141:"T20 T19 D12",140:"T20 T20 D10",139:"T20 T13 D20",138:"T20 T18 D12",137:"T20 T19 D10",136:"T20 T20 D8",135:"T20 T17 D12",134:"T20 T14 D16",133:"T20 T19 D8",132:"Bull Bull D16",131:"T19 T14 D16",130:"T20 T20 D5",129:"T19 T16 D12",128:"T18 T14 D16",127:"T20 T17 D8",126:"T19 T19 D6",125:"Bull 25 Bull",124:"T20 T16 D8",123:"T19 T16 D9",122:"T18 T20 D4",121:"T20 T11 D14",120:"T20 20 D20",119:"T19 T12 D13",118:"T20 18 D20",117:"T20 17 D20",116:"T20 16 D20",115:"T20 15 D20",114:"T19 17 D20",113:"T19 16 D20",112:"T20 T12 D8",111:"T20 11 D20",110:"T20 10 D20",109:"T20 9 D20",108:"T20 8 D20",107:"T19 10 D20",106:"T20 6 D20",105:"T20 5 D20",104:"T20 4 D20",103:"T20 3 D20",102:"T20 2 D20",101:"T20 1 D20",100:"T20 D20",99:"T19 10 D16",98:"T20 D19",97:"T19 D20",96:"T20 D18",95:"T19 D19",94:"T18 D20",93:"T19 D18",92:"T20 D16",91:"T17 D20",90:"T18 D18",89:"T19 D16",88:"T16 D20",87:"T17 D18",86:"T18 D16",85:"T15 D20",84:"T20 D12",83:"T17 D16",82:"T14 D20",81:"T19 D12",80:"T20 D10",79:"T13 D20",78:"T18 D12",77:"T19 D10",76:"T20 D8",75:"T17 D12",74:"T14 D16",73:"T19 D8",72:"T16 D12",71:"T13 D16",70:"T18 D8",69:"T19 D6",68:"T20 D4",67:"T17 D8",66:"T10 D18",65:"T19 D4",64:"T16 D8",63:"T13 D12",62:"T10 D16",61:"T15 D8",60:"20 D20",59:"19 D20",58:"18 D20",57:"17 D20",56:"16 D20",55:"15 D20",54:"14 D20",53:"13 D20",52:"12 D20",51:"11 D20",50:"10 D20",49:"9 D20",48:"8 D20",47:"15 D16",46:"6 D20",45:"5 D20",44:"4 D20",43:"3 D20",42:"10 D16",41:"9 D16",40:"D20",39:"7 D16",38:"D19",37:"5 D16",36:"D18",35:"3 D16",34:"D17",33:"1 D16",32:"D16",31:"15 D8",30:"D15",29:"13 D8",28:"D14",27:"11 D8",26:"D13",25:"9 D8",24:"D12",23:"7 D8",22:"D11",21:"5 D8",20:"D10",19:"3 D8",18:"D9",17:"1 D8",16:"D8",15:"7 D4",14:"D7",13:"5 D4",12:"D6",11:"3 D4",10:"D5",9:"1 D4",8:"D4",7:"3 D2",6:"D3",5:"1 D2",4:"D2",3:"1 D1",2:"D1"},b=e=>j[e]||"",p=[100,60,41,26,22,11],N=e=>{if(!e.throws.length)return{average:"0",highest:0,tons:0,ton40s:0,ton80s:0};let s=e.throws;return{tons:s.filter(e=>e>=100&&e<140).length,ton40s:s.filter(e=>e>=140&&e<180).length,ton80s:s.filter(e=>180===e).length}},D=(0,l.createContext)(void 0),T="dart-game-player-profiles",w={gamesPlayed:0,gamesWon:0,totalThrows:0,highestThrow:0,highestCheckout:0,averageThrow:0,averagePerDart:0,ton80s:0,ton40s:0,tons:0,averageCheckout:0,checkoutPercentage:0,lastPlayed:new Date},y=e=>{let{children:s}=e,[t,r]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=localStorage.getItem(T);if(e)try{let s=JSON.parse(e).map(e=>({...e,created:new Date(e.created),stats:{...e.stats,lastPlayed:new Date(e.stats.lastPlayed)}}));r(s)}catch(e){console.error("Error loading player profiles:",e)}},[]),(0,l.useEffect)(()=>{localStorage.setItem(T,JSON.stringify(t))},[t]),(0,a.jsx)(D.Provider,{value:{profiles:t,addProfile:e=>{let s={...e,id:crypto.randomUUID(),created:new Date,stats:w};r(e=>[...e,s])},updateProfile:(e,s)=>{r(t=>t.map(t=>t.id===e?{...t,...s}:t))},deleteProfile:e=>{r(s=>s.filter(s=>s.id!==e))},updatePlayerStats:(e,s)=>{r(t=>t.map(t=>{if(t.id===e){let e={...t.stats};if("gamesPlayed"in s&&(e.gamesPlayed+=1),"gamesWon"in s&&s.gamesWon&&(e.gamesWon+=1),"highestThrow"in s&&s.highestThrow&&(e.highestThrow=Math.max(e.highestThrow,s.highestThrow)),"ton80s"in s&&s.ton80s&&(e.ton80s+=s.ton80s),"ton40s"in s&&s.ton40s&&(e.ton40s+=s.ton40s),"tons"in s&&s.tons&&(e.tons+=s.tons),"averageThrow"in s&&s.averageThrow){let t=s.averageThrow,a=(e.gamesPlayed-1)*e.averageThrow;e.averageThrow=(a+t)/e.gamesPlayed}if("averagePerDart"in s&&s.averagePerDart){let t=s.averagePerDart,a=(e.gamesPlayed-1)*e.averagePerDart;e.averagePerDart=(a+t)/e.gamesPlayed}return"totalThrows"in s&&s.totalThrows&&(e.totalThrows+=s.totalThrows),e.lastPlayed=new Date,{...t,stats:e}}return t}))}},children:s})},k=()=>{let e=(0,l.useContext)(D);if(void 0===e)throw Error("usePlayerProfiles must be used within a PlayerProfileProvider");return e},P=()=>{let{players:e,startingScore:s,resetGame:t}=d(),{profiles:l}=k(),r=[...e].sort((e,s)=>e.score-s.score);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Game Statistics"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((e,t)=>{let r=n(e,s),i=N(e),d=0===e.score,c=l.find(s=>s.name===e.name);return(0,a.jsxs)("div",{className:"p-4 rounded-lg shadow ".concat(d?"bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-300":"bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:e.name}),d&&(0,a.jsx)(v.A,{className:"w-6 h-6 text-yellow-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-y-2",children:[(0,a.jsx)("div",{children:"Score Left:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:e.score}),(0,a.jsx)("div",{children:"Avg Per Dart:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:r.pointsPerDart}),(0,a.jsx)("div",{children:"Avg Per Throw:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:r.average}),(0,a.jsx)("div",{children:"Best 3 Darts:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:r.highest}),(0,a.jsx)("div",{children:"Worst 3 Darts:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:r.lowest}),(0,a.jsx)("div",{children:"100+ Throws:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:i.tons}),(0,a.jsx)("div",{children:"140+ Throws:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:i.ton40s}),(0,a.jsx)("div",{children:"180s:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:i.ton80s}),(0,a.jsx)("div",{children:"Darts Thrown:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:r.dartsThrown}),0===e.score&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:"Checkout Dart:"}),(0,a.jsx)("div",{className:"font-bold text-right",children:e.checkoutDart?"".concat(e.checkoutDart).concat(1===e.checkoutDart?"st":2===e.checkoutDart?"nd":"rd"," dart"):"Unknown"})]})]}),c&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Career Stats"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[(0,a.jsx)("div",{children:"Games Played:"}),(0,a.jsx)("div",{className:"text-right",children:c.stats.gamesPlayed}),(0,a.jsx)("div",{children:"Games Won:"}),(0,a.jsx)("div",{className:"text-right",children:c.stats.gamesWon}),(0,a.jsx)("div",{children:"Win Rate:"}),(0,a.jsxs)("div",{className:"text-right",children:[(c.stats.gamesWon/c.stats.gamesPlayed*100).toFixed(1),"%"]}),(0,a.jsx)("div",{children:"Career 3-Dart Avg:"}),(0,a.jsx)("div",{className:"text-right",children:c.stats.averageThrow.toFixed(2)}),(0,a.jsx)("div",{children:"Per Dart Avg:"}),(0,a.jsx)("div",{className:"text-right",children:c.stats.averagePerDart.toFixed(2)}),(0,a.jsx)("div",{children:"Highest Throw:"}),(0,a.jsx)("div",{className:"text-right",children:c.stats.highestThrow}),(0,a.jsx)("div",{children:"Total 180s:"}),(0,a.jsx)("div",{className:"text-right",children:c.stats.ton80s})]})]})]},t)})}),(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsx)(f,{onClick:t,className:"px-6",children:"Play Again"})})]})},C=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});C.displayName="Card";let S=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:g("flex flex-col space-y-1.5 p-6",t),...l})});S.displayName="CardHeader";let A=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:g("text-2xl font-semibold leading-none tracking-tight",t),...l})});A.displayName="CardTitle",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:g("text-sm text-muted-foreground",t),...l})}).displayName="CardDescription";let I=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:g("p-6 pt-0",t),...l})});I.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:g("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter";let W=l.forwardRef((e,s)=>{let{className:t,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:g("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});W.displayName="Input";var L=t(3358);let E=e=>{let{currentPlayerIndex:s,players:t,currentThrow:l,setCurrentThrow:r,handleThrow:n,isProcessingInput:i,setIsProcessingInput:d,quickScores:c=[100,60,40,26,20,10]}=e,o=[[7,8,9],[4,5,6],[1,2,3],[function(){let e=t[s];return(null==e?void 0:e.score)<=170&&""===l?"BUST":"←"}(),0,"Enter"]];return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 max-w-full mx-auto",children:o.map((e,s)=>e.map((e,t)=>{let c="BUST"===e,o="←"===e;return(0,a.jsx)(f,{className:"h-16 text-2xl ".concat(c?"bg-red-500 hover:bg-red-600":""),variant:"Enter"===e||c?"default":"outline",onClick:()=>{i||(d(!0),c?n(0):o?r(e=>e.slice(0,-1)):"Enter"===e?n(parseInt(l)):l.length<3&&r(l+e.toString()),setTimeout(()=>d(!1),100))},children:e},"".concat(s,"-").concat(t))}))}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 max-w-full mx-auto",children:c.map(e=>(0,a.jsx)(f,{variant:"outline",className:"h-12 font-bold",onClick:()=>{i||(d(!0),n(e),setTimeout(()=>d(!1),100))},children:e},e))})]})},_=e=>{let{checkout:s}=e;if(!s)return null;let t=s.split(" ");return(0,a.jsx)("div",{className:"mt-2 p-2 bg-gradient-to-r from-green-100 to-blue-100 rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-center mb-1",children:["Checkout:"," "]}),t.map((e,s)=>{let t=e.startsWith("T"),l=e.startsWith("D"),r="Bull"===e,n="bg-gray-200",i="text-gray-800",d="";return t?(n="bg-red-500",i="text-white"):l?(n="bg-pink-500",i="text-white"):r?(n="",i="text-white",d="bg-[linear-gradient(90deg,_#f87171,_#fb923c,_#facc15,_#4ade80,_#60a5fa,_#818cf8,_#8b5cf6)] bg-[length:800%_800%] animate-gradient border-2 border-white p-2 text-white font-bold text-center rounded-full"):"25"===e&&(n="bg-green-500",i="text-white"),(0,a.jsx)("div",{className:"".concat(n," ").concat(i," ").concat(d," px-3 py-1 rounded-full text-center font-bold animate-none"),style:r?{backgroundSize:"200% 200%",animation:"gradient 2s ease infinite"}:{},children:e},s)})]})})},B=()=>{let{players:e,currentPlayerIndex:s}=d(),t=e[s];if(!t)return null;let l=r(t),n=b(t.score);return(0,a.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("div",{className:"text-xl font-bold",children:[t.name,"'s Turn"]}),(0,a.jsx)("div",{className:"text-2xl font-extrabold",children:t.score})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:["Avg: ",l.average]}),(0,a.jsxs)("div",{className:"text-center",children:["High: ",l.highest]}),(0,a.jsxs)("div",{className:"text-right",children:["Last: ",t.throws.slice(-1)[0]||"-"]}),(0,a.jsx)("div",{className:"text-right text-gray-400",children:s+1})]}),n&&(0,a.jsx)(_,{checkout:n})]})},F=()=>{let{players:e,currentPlayerIndex:s}=d();return(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 mb-4",children:e.map((e,t)=>t===s?null:(0,a.jsxs)("div",{className:"p-2 bg-gray-100 rounded border",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"font-medium truncate",children:e.name}),(0,a.jsx)("span",{className:"font-bold",children:e.score})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 flex justify-between",children:[(0,a.jsxs)("span",{children:["Last: ",e.throws.slice(-1)[0]||"-"]}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:t+1})]})]},t))})},z=()=>{let{checkoutDartPrompt:e,players:s,startingScore:t,setPlayers:l,setWinner:r,setCheckoutDartPrompt:n}=d(),{profiles:i,updatePlayerStats:c}=k();if(!e||!e.show)return null;let o=a=>{let d=[...s];d[e.playerIndex].checkoutDart=a,s.forEach((s,l)=>{let r=(s.throws.length-1)*3+(l===e.playerIndex?a:3),n=t-s.score,d=s.throws.length,o=d>0?s.throws.reduce((e,s)=>e+s,0)/d:0,h={gamesPlayed:1,gamesWon:l===e.playerIndex?1:0,highestThrow:Math.max(...s.throws,0),ton80s:s.throws.filter(e=>180===e).length,ton40s:s.throws.filter(e=>e>=140&&e<180).length,tons:s.throws.filter(e=>e>=100&&e<140).length,averageThrow:o,averagePerDart:r>0?n/r:0,totalThrows:r},m=i.find(e=>e.name===s.name);m&&c(m.id,h)}),l(d),r(d[e.playerIndex]),n(null)};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg max-w-sm w-full",children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Which dart did you checkout with?"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,a.jsx)(f,{onClick:()=>o(1),children:"First Dart"}),(0,a.jsx)(f,{onClick:()=>o(2),children:"Second Dart"}),(0,a.jsx)(f,{onClick:()=>o(3),children:"Third Dart"})]})]})})},G=e=>{let{celebration:s}=e;return s.show?(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-yellow-400 opacity-70 rounded-lg blur-sm"}),(0,a.jsx)("div",{className:"absolute -top-8 -left-8 w-4 h-4 bg-red-500 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -top-12 left-0 w-3 h-3 bg-blue-500 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -top-10 left-8 w-5 h-5 bg-green-500 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -top-6 -right-8 w-4 h-4 bg-purple-500 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -top-12 right-0 w-6 h-6 bg-pink-500 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -top-10 right-8 w-3 h-3 bg-indigo-500 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -bottom-8 -left-8 w-5 h-5 bg-red-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -bottom-12 left-0 w-4 h-4 bg-blue-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -bottom-10 left-8 w-3 h-3 bg-green-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -bottom-6 -right-8 w-5 h-5 bg-purple-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -bottom-12 right-0 w-3 h-3 bg-pink-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"absolute -bottom-10 right-8 w-4 h-4 bg-indigo-400 rounded-full animate-ping"}),(0,a.jsx)("div",{className:"relative bg-yellow-400 bg-opacity-100 text-black font-bold text-2xl p-6 rounded-lg shadow-lg animate-bounce border-2 border-yellow-600",children:s.message})]})}):null};var R=t(699),O=t(1714),M=t(9724),J=t(681);let U=e=>{let{profile:s,onClose:t}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full relative",children:[(0,a.jsx)(f,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:t,children:(0,a.jsx)(J.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"mb-6 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-1",children:s.name}),(0,a.jsx)("p",{className:"text-gray-500",children:"Career Statistics"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"col-span-2 bg-blue-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-xl font-semibold",children:"Win Rate"}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[s.stats.gamesPlayed>0?(s.stats.gamesWon/s.stats.gamesPlayed*100).toFixed(1):0,"%"]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Games Played"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.gamesPlayed})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Games Won"}),(0,a.jsxs)("div",{className:"text-xl font-semibold flex items-center gap-2",children:[s.stats.gamesWon,s.stats.gamesWon>0&&(0,a.jsx)(v.A,{className:"h-4 w-4 text-yellow-500"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"3-Dart Average"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.averageThrow.toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Per Dart Average"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.averagePerDart.toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Highest Throw"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.highestThrow})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total 180s"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.ton80s})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"140+ Throws"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.ton40s})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"100+ Throws"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.tons})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total Throws"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:s.stats.totalThrows})]})]}),(0,a.jsxs)("div",{className:"mt-6 text-sm text-gray-500 text-center",children:["Last played:"," ",new Date(s.stats.lastPlayed).toLocaleDateString()]})]})})},H={minLength:2,maxLength:30,pattern:/^[a-zA-Z0-9\s-_]+$/,messages:{minLength:"Name must be at least 2 characters",maxLength:"Name must be less than 30 characters",pattern:"Name can only contain letters, numbers, spaces, hyphens, and underscores",duplicate:"A player with this name already exists"}},X=()=>{let{profiles:e,addProfile:s,updateProfile:t,deleteProfile:r}=k(),[n,i]=(0,l.useState)(""),[d,c]=(0,l.useState)(null),[o,h]=(0,l.useState)(""),[m,x]=(0,l.useState)(null),g=function(s){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s.length<H.minLength?H.messages.minLength:s.length>H.maxLength?H.messages.maxLength:H.pattern.test(s)?e.some(e=>e.name.toLowerCase()===s.toLowerCase()&&(!t||e.id!==(null==d?void 0:d.id)))?H.messages.duplicate:null:H.messages.pattern},u=()=>{let e=g(n);if(e){h(e);return}s({name:n.trim()}),i(""),h("")},v=()=>{if(d&&d.name.trim()){let e=g(d.name,!0);if(e){h(e);return}t(d.id,d),c(null),h("")}},j=e=>new Date(e).toLocaleDateString();return(0,a.jsxs)(C,{className:"w-full mt-4",children:[(0,a.jsx)(I,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(W,{value:n,onChange:e=>{i(e.target.value),h("")},placeholder:"New player name",className:"flex-1 ".concat(o?"border-red-500":""),onKeyUp:e=>{"Enter"===e.key&&n.trim()&&u()}}),(0,a.jsxs)(f,{onClick:u,disabled:!n.trim(),children:[(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"Add Player"]})]}),o&&(0,a.jsx)("div",{className:"text-sm text-red-500",children:o})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsx)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:(null==d?void 0:d.id)===e.id?(0,a.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,a.jsx)(W,{value:d.name,onChange:e=>c({...d,name:e.target.value}),className:o?"border-red-500":""}),(0,a.jsx)(f,{onClick:v,children:"Save"}),(0,a.jsx)(f,{variant:"outline",onClick:()=>{c(null),h("")},children:"Cancel"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex-1 cursor-pointer hover:bg-gray-100 p-2 rounded",onClick:()=>x(e),children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Games:"," ",e.stats.gamesPlayed," | Wins: ",e.stats.gamesWon," | Last played:"," ",j(e.stats.lastPlayed)]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(f,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),c(e),h("")},children:(0,a.jsx)(O.A,{className:"w-4 h-4"})}),(0,a.jsx)(f,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),r(e.id)},children:(0,a.jsx)(M.A,{className:"w-4 h-4"})})]})]})},e.id))})]})}),m&&(0,a.jsx)(U,{profile:m,onClose:()=>x(null)})]})},$=()=>{let{gameStarted:e,startingScore:s,setStartingScore:t,currentThrow:l,setCurrentThrow:r,winner:n,players:i,history:c,isProcessingInput:o,currentPlayerIndex:h,setIsProcessingInput:m,showResetConfirm:x,setShowResetConfirm:g,celebration:u,addPlayer:j,startGame:b,resetGame:N,handleThrow:D,handleUndo:T,setPlayers:w,showClearDataConfirm:y,setShowClearDataConfirm:P,clearGameData:_}=d(),{profiles:R}=k();return(0,a.jsxs)(C,{className:"w-full max-w-full sm:max-w-2xl mx-auto",children:[(0,a.jsxs)(S,{className:"relative",children:[(0,a.jsx)(A,{className:"text-xl font-extrabold text-center",children:"X01 Darts Tracker"}),(0,a.jsx)(f,{variant:"outline",size:"sm",onClick:()=>P(!0),className:"text-red-500 hover:text-red-700 absolute right-6 top-6",children:"Clear Game Data"})]}),(0,a.jsx)(I,{children:e?(0,a.jsx)("div",{className:"space-y-4",children:n?(0,a.jsxs)("div",{className:"text-center py-8 space-y-4",children:[(0,a.jsx)(v.A,{className:"w-16 h-16 mx-auto text-yellow-500"}),(0,a.jsxs)("h2",{className:"text-2xl font-bold",children:[n.name," Wins!"]}),(0,a.jsx)(f,{onClick:N,children:"New Game"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B,{}),(0,a.jsx)(F,{}),(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full max-w-full mx-auto",children:[(0,a.jsx)(W,{value:l,onChange:e=>{let s=e.target.value.replace(/[^0-9]/g,"");s.length<=3&&r(s)},placeholder:"Score (0-180)",className:"text-2xl text-center h-16",style:{appearance:"textfield",MozAppearance:"textfield"}}),(0,a.jsx)(f,{onClick:T,disabled:0===c.length,variant:"outline",className:"h-16 w-32",children:(0,a.jsx)(L.A,{className:"w-6 h-6"})})]}),(0,a.jsx)(E,{currentPlayerIndex:h,players:i,currentThrow:l,setCurrentThrow:r,handleThrow:D,isProcessingInput:o,setIsProcessingInput:m,quickScores:p}),(0,a.jsx)(f,{variant:"outline",onClick:()=>g(!0),className:"mt-2",children:"Reset Game"}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg max-w-sm w-full",children:[(0,a.jsx)("h3",{className:"font-bold mb-4",children:"Reset Game?"}),(0,a.jsx)("p",{className:"mb-4",children:"Are you sure you want to reset the game? All progress will be lost."}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(f,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),(0,a.jsx)(f,{variant:"destructive",onClick:()=>{N(),g(!1)},children:"Reset"})]})]})})]})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(W,{type:"number",value:s,onChange:e=>{isNaN(parseInt(e.target.value))?t(0):t(parseInt(e.target.value))},className:"w-32",min:"101",step:"100"}),(0,a.jsx)("span",{children:"Starting Score"})]}),y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg max-w-sm w-full",children:[(0,a.jsx)("h3",{className:"font-bold mb-4",children:"Clear All Game Data?"}),(0,a.jsx)("p",{className:"mb-4",children:"This will clear all saved players and game history. This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(f,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),(0,a.jsx)(f,{variant:"destructive",onClick:_,children:"Clear Data"})]})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Select Players"}),R.map(e=>{let s=i.some(s=>s.name===e.name);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg cursor-pointer hover:bg-gray-100 \n                    ".concat(s?"bg-blue-50 border-2 border-blue-200":"bg-gray-50"),onClick:()=>{if(s){let s=i.findIndex(s=>s.name===e.name);if(-1!==s){let e=[...i];e.splice(s,1),w(e)}}else i.some(s=>s.name===e.name)||j(e.name)},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full border-2 \n                        ".concat(s?"bg-blue-500 border-blue-500":"border-gray-300")}),(0,a.jsx)("span",{children:e.name})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Games: ",e.stats.gamesPlayed," | Wins: ",e.stats.gamesWon]})]},e.id)})]}),(0,a.jsxs)("div",{className:"mt-12",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Manage Players"}),(0,a.jsx)(X,{})]}),(0,a.jsx)(f,{onClick:b,disabled:i.length<1||s<2,className:"w-full",children:"Start Game"})]})}),(0,a.jsx)(z,{}),u.show&&(0,a.jsx)(G,{celebration:u})]})},q=()=>{let{winner:e}=d();return(0,a.jsx)(a.Fragment,{children:e?(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)(P,{})}):(0,a.jsx)($,{})})},K=()=>(0,a.jsx)(c,{children:(0,a.jsx)(q,{})}),Q=()=>(0,a.jsx)(y,{children:(0,a.jsx)("div",{className:"container mx-auto p-4",children:(0,a.jsx)(K,{})})});function V(){return(0,a.jsx)("main",{className:"min-h-screen p-4 flex items-center justify-center",children:(0,a.jsx)(Q,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[567,449,919,358],()=>s(4067)),_N_E=e.O()}]);