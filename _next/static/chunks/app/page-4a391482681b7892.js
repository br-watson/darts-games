(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1601:(e,s,t)=>{Promise.resolve().then(t.bind(t,9747))},9747:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(4884),a=t(4843),l=t(8273),n=t(726);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.QP)((0,l.$)(s))}let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});d.displayName="Card";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:i("flex flex-col space-y-1.5 p-6",t),...a})});c.displayName="CardHeader";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:i("text-2xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:i("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:i("p-6 pt-0",t),...a})});m.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:i("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter";var x=t(703);let u=(0,t(7158).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=a.forwardRef((e,s)=>{let{className:t,variant:a,size:l,asChild:n=!1,...d}=e,c=n?x.DX:"button";return(0,r.jsx)(c,{className:i(u({variant:a,size:l,className:t})),ref:s,...d})});h.displayName="Button";let f=a.forwardRef((e,s)=>{let{className:t,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});f.displayName="Input";var g=t(5923),p=t(681),v=t(9529),j=t(3358);let N=()=>{let[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)(501),[n,i]=(0,a.useState)(0),[x,u]=(0,a.useState)(""),[N,b]=(0,a.useState)(""),[y,w]=(0,a.useState)(null),[k,C]=(0,a.useState)([]),[S,E]=(0,a.useState)([]),R=new Set;for(let e=0;e<=180;e++)(function(e){return!(e>180)&&179!==e&&178!==e&&176!==e&&175!==e&&173!==e&&172!==e&&169!==e})(e)&&R.add(e);let _=[60,41,26,22,11,7];a.useEffect(()=>(document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}),[N,e,y]);let A=s=>{e&&!y&&("Enter"===s.key?O(parseInt(N)):"Backspace"===s.key&&b(e=>e.slice(0,-1)))},I=e=>{if(!e.throws.length)return{average:0,highest:0};let s=e.throws.reduce((e,s)=>e+s,0)/e.throws.length,r=Math.max(...e.throws),a=Math.ceil((t-e.score)/3);return{average:s.toFixed(1),highest:r,throwsNeeded:a}},z=()=>{x.trim()&&k.length<10&&!e&&(C([...k,{name:x.trim(),score:t,throws:[]}]),u(""))},P=s=>{e||C(k.filter((e,t)=>t!==s))},F=()=>{s(!1),C(k.map(e=>({...e,score:t,throws:[]}))),i(0),w(null),b(""),E([])},O=e=>{let s="number"==typeof e?e:parseInt(N);if(!R.has(s))return;let t=[...k],r=t[n],a=r.score-s;if(a<0){b("");return}E([...S,{players:JSON.parse(JSON.stringify(k)),currentPlayerIndex:n}]),r.throws.push(s),r.score=a,0===a?w(r):i((n+1)%k.length),C(t),b("")},D=()=>{if(S.length>0){let e=S[S.length-1];C(e.players),i(e.currentPlayerIndex),E(S.slice(0,-1)),w(null)}};return(0,r.jsxs)(d,{className:"w-full max-w-2xl",children:[(0,r.jsx)(c,{children:(0,r.jsx)(o,{className:"text-2xl",children:"X01 Darts Tracker"})}),(0,r.jsx)(m,{children:e?(0,r.jsx)("div",{className:"space-y-4",children:y?(0,r.jsxs)("div",{className:"text-center py-8 space-y-4",children:[(0,r.jsx)(v.A,{className:"w-16 h-16 mx-auto text-yellow-500"}),(0,r.jsxs)("h2",{className:"text-2xl font-bold",children:[y.name," Wins!"]}),(0,r.jsx)(h,{onClick:F,children:"New Game"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:k.map((e,s)=>{let t=I(e);return(0,r.jsx)(d,{className:"".concat(s===n?"ring-2 ring-blue-500":""),children:(0,r.jsxs)("div",{className:"p-2 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-sm",children:e.name}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.score})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Last: ",e.throws.slice(-1)[0]||"-"]})]}),(0,r.jsxs)("div",{className:"text-sm text-right",children:[(0,r.jsxs)("div",{children:["Avg: ",t.average]}),(0,r.jsxs)("div",{children:["High: ",t.highest]})]})]})},s)})}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-xl font-bold",children:[k[n].name,"'s Turn"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full max-w-md",children:[(0,r.jsx)(f,{value:N,onChange:e=>{let s=e.target.value.replace(/[^0-9]/g,"");s.length<=3&&b(s)},placeholder:"Score (0-180)",className:"text-2xl text-center h-16",style:{appearance:"textfield",MozAppearance:"textfield"}}),(0,r.jsx)(h,{onClick:()=>D(),disabled:0===S.length,variant:"outline",className:"h-16 w-16",children:(0,r.jsx)(j.A,{className:"w-6 h-6"})})]}),(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-3 gap-3 max-w-md mx-auto",children:[[7,8,9],[4,5,6],[1,2,3],["←",0,"Enter"]].map((e,s)=>e.map((e,t)=>(0,r.jsx)(h,{className:"h-16 text-2xl",variant:"Enter"===e?"default":"outline",onClick:()=>{"←"===e?b(e=>e.slice(0,-1)):"Enter"===e?O(parseInt(N)):N.length<3&&b(N+e.toString())},children:e},"".concat(s,"-").concat(t))))}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2 max-w-md mx-auto",children:_.map(e=>(0,r.jsx)(h,{variant:"outline",className:"h-12",onClick:()=>O(e),children:e},e))})]}),{}),(0,r.jsx)(h,{variant:"outline",onClick:F,className:"mt-2",children:"Reset Game"})]})]})}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(f,{type:"number",value:t,onChange:e=>{isNaN(parseInt(e.target.value))?l(0):l(parseInt(e.target.value))},className:"w-32",min:"101",step:"100"}),(0,r.jsx)("span",{children:"Starting Score"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f,{value:x,onChange:e=>u(e.target.value),placeholder:"Player name",onKeyUp:e=>"Enter"===e.key&&z(),className:"w-48"}),(0,r.jsxs)(h,{onClick:z,disabled:k.length>=10,children:[(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Add Player"]})]}),(0,r.jsx)("div",{className:"space-y-2",children:k.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[(0,r.jsx)("span",{children:e.name}),(0,r.jsx)(h,{variant:"ghost",size:"sm",onClick:()=>P(s),children:(0,r.jsx)(p.A,{className:"w-4 h-4"})})]},s))}),(0,r.jsx)(h,{onClick:()=>{k.length>=1&&(s(!0),E([]))},disabled:k.length<1||t<2,className:"w-full",children:"Start Game"})]})})]})};function b(){return(0,r.jsx)("main",{className:"min-h-screen p-4 flex items-center justify-center",children:(0,r.jsx)(N,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[715,449,919,358],()=>s(1601)),_N_E=e.O()}]);